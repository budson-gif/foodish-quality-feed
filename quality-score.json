{
  "updatedAt": "2025-10-21T20:02:51.414Z",
  "source": "ci",
  "score": 78,
  "lintPoints": 20,
  "typecheckPoints": 20,
  "testPoints": 18,
  "coveragePoints": 0,
  "domainPoints": 20,
  "lint": {
    "errors": 0,
    "warnings": 0,
    "items": []
  },
  "typecheck": {
    "errors": 0,
    "items": []
  },
  "tests": {
    "total": 177,
    "passed": 155,
    "failed": 22,
    "failures": [
      {
        "name": "Domain Rules (T1-T4) T1: price_net <= 0 blockt Save",
        "file": "src/test/domain-rules.test.ts",
        "message": "AssertionError: expected [Function] to throw error matching /größer als 0.01/ but got '[\\n  {\\n    \"code\": \"custom\",\\n    \"m…'\n    at Proxy.<anonymous> (file:///home/runner/work/foodishkitchen/foodishkitchen/node_modules/@vitest/expect/dist/index.js:1420:16)\n    at Proxy.<anonymous> (file:///home/ru"
      },
      {
        "name": "priceMath - Unit Family System correctly identifies unit families",
        "file": "src/lib/__tests__/priceMath.dual.test.ts",
        "message": "TypeError: getFamily is not a function\n    at /home/runner/work/foodishkitchen/foodishkitchen/src/lib/__tests__/priceMath.dual.test.ts:24:12\n    at file:///home/runner/work/foodishkitchen/foodishkitchen/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/runner/work/foodishkit"
      },
      {
        "name": "priceMath - Unit Family System returns normalized base units",
        "file": "src/lib/__tests__/priceMath.dual.test.ts",
        "message": "TypeError: normalizedBaseUnit is not a function\n    at /home/runner/work/foodishkitchen/foodishkitchen/src/lib/__tests__/priceMath.dual.test.ts:33:12\n    at file:///home/runner/work/foodishkitchen/foodishkitchen/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/runner/work/f"
      },
      {
        "name": "priceMath - Unit Family System returns small units correctly",
        "file": "src/lib/__tests__/priceMath.dual.test.ts",
        "message": "TypeError: smallUnit is not a function\n    at /home/runner/work/foodishkitchen/foodishkitchen/src/lib/__tests__/priceMath.dual.test.ts:41:12\n    at file:///home/runner/work/foodishkitchen/foodishkitchen/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/runner/work/foodishkit"
      },
      {
        "name": "priceMath - Unit Family System returns small factors correctly",
        "file": "src/lib/__tests__/priceMath.dual.test.ts",
        "message": "TypeError: smallFactor is not a function\n    at /home/runner/work/foodishkitchen/foodishkitchen/src/lib/__tests__/priceMath.dual.test.ts:49:12\n    at file:///home/runner/work/foodishkitchen/foodishkitchen/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/runner/work/foodishk"
      },
      {
        "name": "priceMath - Precision (6 decimals internal) rounds to 6 decimals",
        "file": "src/lib/__tests__/priceMath.dual.test.ts",
        "message": "TypeError: round6 is not a function\n    at /home/runner/work/foodishkitchen/foodishkitchen/src/lib/__tests__/priceMath.dual.test.ts:59:12\n    at file:///home/runner/work/foodishkitchen/foodishkitchen/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/runner/work/foodishkitche"
      },
      {
        "name": "priceMath - Precision (6 decimals internal) calculates perBase with 6-decimal precision",
        "file": "src/lib/__tests__/priceMath.dual.test.ts",
        "message": "TypeError: calcPerNormalizedBase is not a function\n    at /home/runner/work/foodishkitchen/foodishkitchen/src/lib/__tests__/priceMath.dual.test.ts:65:20\n    at file:///home/runner/work/foodishkitchen/foodishkitchen/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/runner/wor"
      },
      {
        "name": "priceMath - Precision (6 decimals internal) calculates perSmall with 6-decimal precision",
        "file": "src/lib/__tests__/priceMath.dual.test.ts",
        "message": "TypeError: calcPerSmallBase is not a function\n    at /home/runner/work/foodishkitchen/foodishkitchen/src/lib/__tests__/priceMath.dual.test.ts:76:20\n    at file:///home/runner/work/foodishkitchen/foodishkitchen/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/runner/work/foo"
      },
      {
        "name": "priceMath - AC7: Parity (perBase == perSmall * smallFactor) maintains parity within ±0.00001 for mass units",
        "file": "src/lib/__tests__/priceMath.dual.test.ts",
        "message": "TypeError: computeDisplaySet is not a function\n    at /home/runner/work/foodishkitchen/foodishkitchen/src/lib/__tests__/priceMath.dual.test.ts:90:16\n    at file:///home/runner/work/foodishkitchen/foodishkitchen/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/runner/work/fo"
      },
      {
        "name": "priceMath - AC7: Parity (perBase == perSmall * smallFactor) maintains parity within ±0.00001 for volume units",
        "file": "src/lib/__tests__/priceMath.dual.test.ts",
        "message": "TypeError: computeDisplaySet is not a function\n    at /home/runner/work/foodishkitchen/foodishkitchen/src/lib/__tests__/priceMath.dual.test.ts:112:16\n    at file:///home/runner/work/foodishkitchen/foodishkitchen/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/runner/work/f"
      },
      {
        "name": "priceMath - AC7: Parity (perBase == perSmall * smallFactor) handles piece units (no small unit)",
        "file": "src/lib/__tests__/priceMath.dual.test.ts",
        "message": "TypeError: computeDisplaySet is not a function\n    at /home/runner/work/foodishkitchen/foodishkitchen/src/lib/__tests__/priceMath.dual.test.ts:134:16\n    at file:///home/runner/work/foodishkitchen/foodishkitchen/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/runner/work/f"
      },
      {
        "name": "priceMath - Formatters (2/4/5 decimals) formats VPE with 2 decimals",
        "file": "src/lib/__tests__/priceMath.dual.test.ts",
        "message": "TypeError: fmtVPEeur is not a function\n    at /home/runner/work/foodishkitchen/foodishkitchen/src/lib/__tests__/priceMath.dual.test.ts:154:12\n    at file:///home/runner/work/foodishkitchen/foodishkitchen/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/runner/work/foodishki"
      },
      {
        "name": "priceMath - Formatters (2/4/5 decimals) formats VE with 2 decimals",
        "file": "src/lib/__tests__/priceMath.dual.test.ts",
        "message": "TypeError: fmtVEeur is not a function\n    at /home/runner/work/foodishkitchen/foodishkitchen/src/lib/__tests__/priceMath.dual.test.ts:159:12\n    at file:///home/runner/work/foodishkitchen/foodishkitchen/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/runner/work/foodishkit"
      },
      {
        "name": "priceMath - Formatters (2/4/5 decimals) formats perBase with 4 decimals",
        "file": "src/lib/__tests__/priceMath.dual.test.ts",
        "message": "TypeError: fmtPerBase is not a function\n    at /home/runner/work/foodishkitchen/foodishkitchen/src/lib/__tests__/priceMath.dual.test.ts:164:12\n    at file:///home/runner/work/foodishkitchen/foodishkitchen/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/runner/work/foodishk"
      },
      {
        "name": "priceMath - Formatters (2/4/5 decimals) formats perSmall with 5 decimals",
        "file": "src/lib/__tests__/priceMath.dual.test.ts",
        "message": "TypeError: fmtPerSmall is not a function\n    at /home/runner/work/foodishkitchen/foodishkitchen/src/lib/__tests__/priceMath.dual.test.ts:170:12\n    at file:///home/runner/work/foodishkitchen/foodishkitchen/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/runner/work/foodish"
      },
      {
        "name": "priceMath - DisplaySet Integration computes complete display set with dual display",
        "file": "src/lib/__tests__/priceMath.dual.test.ts",
        "message": "TypeError: computeDisplaySet is not a function\n    at /home/runner/work/foodishkitchen/foodishkitchen/src/lib/__tests__/priceMath.dual.test.ts:178:16\n    at file:///home/runner/work/foodishkitchen/foodishkitchen/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/runner/work/f"
      },
      {
        "name": "priceMath - DisplaySet Integration uses VE as source when available",
        "file": "src/lib/__tests__/priceMath.dual.test.ts",
        "message": "TypeError: computeDisplaySet is not a function\n    at /home/runner/work/foodishkitchen/foodishkitchen/src/lib/__tests__/priceMath.dual.test.ts:217:16\n    at file:///home/runner/work/foodishkitchen/foodishkitchen/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/runner/work/f"
      },
      {
        "name": "priceMath - DisplaySet Integration handles missing density gracefully for ml↔g conversion",
        "file": "src/lib/__tests__/priceMath.dual.test.ts",
        "message": "TypeError: computeDisplaySet is not a function\n    at /home/runner/work/foodishkitchen/foodishkitchen/src/lib/__tests__/priceMath.dual.test.ts:238:16\n    at file:///home/runner/work/foodishkitchen/foodishkitchen/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/runner/work/f"
      },
      {
        "name": "priceMath getDisplayPrices returns correct label and raw value",
        "file": "src/lib/__tests__/priceMath.test.ts",
        "message": "AssertionError: expected '0,0175 € / g' to contain '0,01745'\n    at /home/runner/work/foodishkitchen/foodishkitchen/src/lib/__tests__/priceMath.test.ts:140:35\n    at file:///home/runner/work/foodishkitchen/foodishkitchen/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/runn"
      },
      {
        "name": "Yield calculations - Edge Cases handles complex rounding scenario",
        "file": "src/lib/domain/__tests__/yield.edge.test.ts",
        "message": "AssertionError: expected 0.108222 to be close to 0.108227, received difference is 0.0000050000000000050004, but expected 0.0000049999999999999996\n    at /home/runner/work/foodishkitchen/foodishkitchen/src/lib/domain/__tests__/yield.edge.test.ts:112:20\n    at file:///home/runner/work/foodishkitchen/f"
      },
      {
        "name": "Facet Counts with Self-Exclusion should apply self-exclusion (counts change when filter active)",
        "file": "src/components/recipes/table-v2/__tests__/facets.test.ts",
        "message": "AssertionError: expected undefined to be +0 // Object.is equality\n    at /home/runner/work/foodishkitchen/foodishkitchen/src/components/recipes/table-v2/__tests__/facets.test.ts:82:81\n    at file:///home/runner/work/foodishkitchen/foodishkitchen/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11"
      },
      {
        "name": "Facet Counts with Self-Exclusion should disable options with count=0",
        "file": "src/components/recipes/table-v2/__tests__/facets.test.ts",
        "message": "AssertionError: expected undefined to be +0 // Object.is equality\n    at /home/runner/work/foodishkitchen/foodishkitchen/src/components/recipes/table-v2/__tests__/facets.test.ts:91:64\n    at file:///home/runner/work/foodishkitchen/foodishkitchen/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11"
      }
    ]
  },
  "coverage": {
    "lines": 0,
    "branches": 0,
    "functions": 0,
    "statements": 0
  },
  "domain": {
    "total": 0,
    "invalidPrices": 0,
    "orphaned": 0,
    "deletedRefs": 0,
    "missingDensities": 0,
    "details": {}
  }
}